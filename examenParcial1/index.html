<!DOCTYPE html>
<html>
	<head>
		<title>Examen 1er Parcial - A01324276 RACV</title>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<style>
			/* Add a black background color to the top navigation bar */
			.topnav {
				overflow: hidden;
				background-color: #e9e9e9;
			}

			/* Style the links inside the navigation bar */
			.topnav a {
				float: left;
				display: block;
				color: black;
				text-align: center;
				padding: 14px 16px;
				text-decoration: none;
				font-size: 17px;
			}

			/* Change the color of links on hover */
			.topnav a:hover {
				background-color: #ddd;
				color: black;
			}

			/* Style the "active" element to highlight the current page */
			.topnav a.active {
				background-color: #2196F3;
				color: white;
			}

			/* Style the search box inside the navigation bar */
			.topnav input[type=text] {
				float: right;
				padding: 6px;
				border: none;
				margin-top: 8px;
				margin-right: 16px;
				font-size: 17px;
			}

			/* When the screen is less than 600px wide, stack the links and the search field vertically instead of horizontally */
			@media screen and (max-width: 600px) {
				.topnav a, .topnav input[type=text] {
					float: none;
					display: block;
					text-align: left;
					width: 100%;
					margin: 0;
					padding: 14px;
				}
				.topnav input[type=text] {
					border: 1px solid #ccc;
				}
			}

			footer { 
				display: block;
			}
		</style>

		<!-- Google web font ================================================== -->	
		<link href='https://fonts.googleapis.com/css?family=Montserrat:700,400' rel='stylesheet' type='text/css'>

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.6/umd/popper.min.js"></script>
	
		<!-- Google Sign-in Button ================================================== -->
		<meta name="google-signin-scope" content="profile email">
		<meta name="google-signin-client_id" content="752960315798-egqp9djl1bfr1qg75uk7g49csu5ukhqj.apps.googleusercontent.com">
		<script src="https://apis.google.com/js/platform.js" async defer></script>	
		
	</head>
	<body>

		<!-- FACEBOOK LOGIN-->
		<script> 
			
			// This is called with the results from from FB.getLoginStatus().
			function statusChangeCallback(response) {
				console.log('statusChangeCallback');
				console.log(response);
				// The response object is returned with a status field that lets the
				// app know the current login status of the person.
				// Full docs on the response object can be found in the documentation
				// for FB.getLoginStatus().
				if (response.status === 'connected') {
				// Logged into your app and Facebook.
				testAPI();
				} else {
				// The person is not logged into your app or we are unable to tell.
				document.getElementById('status').innerHTML = 'Please log ' +
					'into this app.';
				}
			}

			// This function is called when someone finishes with the Login
			// Button.  See the onlogin handler attached to it in the sample
			// code below.
			function checkLoginState() {
				FB.getLoginStatus(function(response) {
				statusChangeCallback(response);
				});
			}

			window.fbAsyncInit = function() {
				FB.init({
				appId      : '167425190709768',//'180850676006281',
				cookie     : true,  // enable cookies to allow the server to access 
									// the session
				xfbml      : true,  // parse social plugins on this page
				version    : 'v2.8' // use graph api version 2.8
				});

				// Now that we've initialized the JavaScript SDK, we call 
				// FB.getLoginStatus().  This function gets the state of the
				// person visiting this page and can return one of three states to
				// the callback you provide.  They can be:
				//
				// 1. Logged into your app ('connected')
				// 2. Logged into Facebook, but not your app ('not_authorized')
				// 3. Not logged into Facebook and can't tell if they are logged into
				//    your app or not.
				//
				// These three cases are handled in the callback function.

				FB.getLoginStatus(function(response) {
				statusChangeCallback(response);
				});

			};

			// Load the SDK asynchronously
			(function(d, s, id) {
				var js, fjs = d.getElementsByTagName(s)[0];
				if (d.getElementById(id)) return;
				js = d.createElement(s); js.id = id;
				js.src = "https://connect.facebook.net/en_US/sdk.js";
				fjs.parentNode.insertBefore(js, fjs);
			}(document, 'script', 'facebook-jssdk'));

			// Here we run a very simple test of the Graph API after login is
			// successful.  See statusChangeCallback() for when this call is made.
			function testAPI() {
				console.log('Welcome!  Fetching your information.... ');
				FB.api('/me', function(response) {
				console.log('Successful login for: ' + response.name);
				
				document.getElementById('status').innerHTML =
					'Thanks for logging in, ' + response.name + '!';
				});
			}

		</script>

		<!-- Navigation section ================================================== -->
		<div class="topnav">
			<a class="active" href="#home">Home</a>
			<a href="#login">Login</a>
			<a href="#store">Tienda</a>
			<a href="#findUs">Encuentranos</a>
			<a href="#videos">Videos</a>
		</div>

		<!-- FACEBOOK and GMAIL LOGIN section ================================================== -->
		<section id="login">
			<fb:login-button scope="public_profile,email" onlogin="checkLoginState();">
			</fb:login-button>
			<div id="status">
			</div>

			<div class="g-signin2" data-onsuccess="onSignIn"></div>

			<p></p>
			<script>
				function onSignIn(googleUser) {
				  // Useful data for your client-side scripts:
				  var profile = googleUser.getBasicProfile();
				  console.log("ID: " + profile.getId()); // Don't send this directly to your server!
				  console.log('Full Name: ' + profile.getName());
				  console.log('Given Name: ' + profile.getGivenName());
				  console.log('Family Name: ' + profile.getFamilyName());
				  console.log("Image URL: " + profile.getImageUrl());
				  console.log("Email: " + profile.getEmail());
		  
				  // The ID token you need to pass to your backend:
				  var id_token = googleUser.getAuthResponse().id_token;
				  console.log("ID Token: " + id_token);
				};
			  </script>

		</section>

		<hr>

		<div>
			<a href="https://www.facebook.com/Pantuflas-Pantufla-2047503555274815/">Visite nuestra pagina web y mandenos un mensaje!</a>
		</div>

		<footer>
			<p>Enero 2018 | Proyecto Parcial 1 Laboratorio de Desarrollo de Aplicaciones Web by Rafael Antonio Comonfort Viveros</p>
			<p>Contact information: <a href="A01324276@itesm.mx">
					A01324276@itesm.mx</a>.</p>
		</footer>

	</body>
</html>